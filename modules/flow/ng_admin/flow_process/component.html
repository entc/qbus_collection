<ng-container *authSessionRole="[]">

<page-toolbar #toolbar sorting="{'id': 'id'}"></page-toolbar>

  <table class="table mt-2">
    <tr>
      <th></th>
      <th><span class="badge badge-primary">psid</span></th>
      <th width="50%">{{ 'FLOW.WORKFLOWNAME' | transloco }}<br><small>{{ 'FLOW.WORKSTEPNAME' | transloco }}</small></th>
      <th width="50%">{{ 'FLOW.TOC' | transloco }}<br><small>{{ 'FLOW.REFID' | transloco }}</small></th>
      <th></th>
    </tr>
    <tr *ngFor="let item of processes | async | pageToolBar : toolbar : ['id','refid','wfid']">
      <td>
        <span [ngSwitch]="item.active">
          <i *ngSwitchCase="0" class="fa fa-check"></i>
          <i *ngSwitchCase="1" class="fa fa-pause-circle"></i>
        </span>
      </td>
      <td>
        <span class="badge badge-primary">{{item.id}}</span>
      </td>
      <td>
        {{item.wf_name}}
        <br>
        <span class="text-muted font-weight-light"><small><i class="far fa-pause-circle"></i>&nbsp;&nbsp;{{item.step_name}}</small></span>
      </td>
      <td>
        {{item.toc | trlo_locale}}&nbsp;&nbsp;<span class="badge badge-light"><i class="far fa-hourglass"></i>&nbsp;{{item.toc | trlo_timediff}}</span>
        <br>
        <span class="text-muted font-weight-light"><small><i class="far fa-bookmark"></i>&nbsp;&nbsp;{{item.refid}}</small></span>
      </td>
      <td>
        <div class="btn-group" role="group" aria-label="Basic example">
          <button (click)="show_details(item)" type="button" class="btn btn-sm btn-outline-secondary"><i class="fas fa-eye"></i></button>
          <button (click)="show_data(item)" type="button" class="btn btn-sm btn-outline-secondary"><i class="fas fa-database"></i></button>
        </div>
      </td>
    </tr>
  </table>

  </ng-container>
